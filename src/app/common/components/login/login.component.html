<div class="inner-login-sidenav-content">
  <div class="p-b-0">
    <div fxLayout="row" fxLayoutAlign="start center">
      <div [ngClass]="{'generic-div-login': true}" [ngClass.sm]="{'generic-div-login-sm': true, 'm-l-75':true}" [ngClass.gt-sm]="{'generic-div-login-md': true, 'm-l-75':true}"
        fxLayout="column" fxLayoutAlign="center start">
        <mat-icon class="logo-font m-l-40">school</mat-icon>
        <span class="font-nor-30-500-i color-accent m-t-40">{{'LOGIN.WELCOME_TO' | translate:lang:{projectName: gdHandler.projectName} }}</span>
        <span class="font-nor-14-300-i generic-div-login-text m-t-15">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ullamcorper nisl erat, vel convallis elit fermentum
          pellentesque. Sed mollis velit facilisis facilisis viverra.</span>
      </div>
      <div [ngClass]="{'login-div': true}" [ngClass.sm]="{'login-div-sm': true}" [ngClass.gt-sm]="{'login-div-md': true}" fxLayout="column"
        fxLayoutAlign="center end">
        <mat-card class="login-card">
          <mat-card-content>
            <div fxLayout="row" fxLayoutAlign="center center">
              <mat-icon fxShow="true" fxHide.gt-xs class="logo-font text-center m-t-40 m-b-10">school</mat-icon>
            </div>
            <div class="m-t-40 m-b-25 m-r-30 m-l-30" fxLayout="column" fxLayoutAlign="center start" fxLayoutGap="10px">
              <span class="font-nor-20-400">{{'LOGIN.LOGIN_TO_YOUR_ACCOUNT' | translate:lang}}</span>
              <form id="loginForm" [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()" #form="ngForm" novalidate class="flex-full m-t-30">
                <div fxLayout="row" fxLayoutAlign="space-around center">
                  <div>
                    <mat-icon matSuffix svgIcon="email" color="primary"></mat-icon>
                  </div>
                  <div fxFlex="90">
                    <mat-form-field class="input-flex-full">
                      <input matInput placeholder="{{'LOGIN.EMAIL' | translate:lang}}" [formControl]="loginForm.controls['emailField']" [(ngModel)]="user.email"
                        maxlength="50" required>
                      <mat-error *ngIf="loginForm.controls['emailField'].hasError('email') && !loginForm.controls['emailField'].hasError('required')">
                        {{ 'LOGIN.ENTER_VALID_MAIL' | translate:lang }}
                      </mat-error>
                      <mat-error *ngIf="loginForm.controls['emailField'].hasError('required')">
                        {{ 'LOGIN.EMAIL_IS' | translate:lang }}
                        <strong> {{ 'COMMON.REQUIRED' | translate:lang }}</strong>
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div fxLayout="row" fxLayoutAlign="space-around center" class="m-t-10">
                  <div>
                    <mat-icon matSuffix svgIcon="lock" color="primary"></mat-icon>
                  </div>
                  <div fxFlex="90">
                    <mat-form-field class="input-flex-full">
                      <input type="password" matInput placeholder="{{'LOGIN.PASSWORD' | translate:lang}}" [formControl]="loginForm.controls['password']"
                        [(ngModel)]="user.password" maxlength="50" required>
                      <mat-error *ngIf="loginForm.controls['password'].hasError('required')">
                        {{ 'LOGIN.PASSWORD_IS' | translate:lang }}
                        <strong> {{ 'COMMON.REQUIRED' | translate:lang }}</strong>
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div fxLayout="row" fxLayoutAlign="end center" class="m-t-10">
                  <a class="font-nor-14-500 col-blue no-underline" routerLink="/forgotpassword">{{'LOGIN.FORGOT_PASS' | translate:lang}}</a>
                </div>
                <div fxLayout="row" fxLayoutAlign="center" class="m-t-20 flex-full">
                  <ng-container *ngIf="!isLoginInitiated; else elseTemplate">
                    <button class="flex-full" type="submit" [disabled]="loginForm.invalid" mat-raised-button color="primary">{{'LOGIN.LOGIN_BUTTON' | translate:lang}}</button>
                  </ng-container>
                  <ng-template #elseTemplate>
                    <mat-progress-spinner diameter="40" strokeWidth="2" color="accent" mode="indeterminate"></mat-progress-spinner>
                  </ng-template>
                </div>
                <div fxLayout="row" fxLayoutAlign="center" class="m-t-20">
                  <!-- <mat-divider [inset]="true" class="m-r-5 m-t-7">
                  </mat-divider>
                  {{'COMMON.OR' | translate:lang}}
                  <mat-divider [inset]="true" class="m-l-5 m-t-7">
                  </mat-divider> -->
                </div>
                <!-- <div fxLayout="row" fxLayoutAlign="center" class="m-t-20 flex-full">
                  <button class="flex-full bg-red col-white" type="submit" [disabled]="loginForm.invalid" mat-raised-button>{{'LOGIN.LOGIN_WITH_GOOGLE' | translate:lang}}</button>
                </div>
                <div fxLayout="row" fxLayoutAlign="center" class="m-t-20 flex-full bg-blue">
                  <button class="flex-full bg-blue col-white" type="submit" [disabled]="loginForm.invalid" mat-raised-button>{{'LOGIN.LOGIN_WITH_FACEBOOK' | translate:lang}}</button>
                </div>
                <div fxLayout="column" fxLayoutAlign="center center" class="m-t-20">
                  <span class="font-nor-14-500">{{'LOGIN.DONT_HAVE_ACCOUNT' | translate:lang}}</span>
                  <a class="font-nor-14-500 col-blue no-underline" routerLink="">{{'LOGIN.CREATE_AN_ACCOUNT' | translate:lang}}</a>
                </div> -->
                <div fxLayout="column" fxLayoutAlign="end end" class="baseline m-r-30">
                  <mat-form-field>
                    <mat-select placeholder="{{'APP.CHANGE_LANGUAGE' | translate:lang}}" [(value)]="defaultLang">
                      <mat-option *ngFor="let trans of gdHandler.availableLanguages" (click)="changeLanguage(trans.localeName)" [value]="trans.localeName">
                        {{ trans.transName | translate:lang }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </form>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>